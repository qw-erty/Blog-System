
<%- include("partials/header"); -%>
<%- include("partials/function"); -%>
    <!-- <h1>Home</h1>
    <p> <%= startingContent %> </p> -->


    <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
        <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="./images/2.png" class="d-block w-100" alt="..." height="400px" >
          <div class="carousel-caption d-none d-md-block">
            <h5>First slide label</h5>
            <p>Some representative placeholder content for the first slide.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="./images/2.png" class="d-block w-100" alt="..." height="400px">
          <div class="carousel-caption d-none d-md-block">
            <h5>Second slide label</h5>
            <p>Some representative placeholder content for the second slide.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="./images/2.png" class="d-block w-100" alt="..." height="400px">
          <div class="carousel-caption d-none d-md-block">
            <h5>Third slide label</h5>
            <p>Some representative placeholder content for the third slide.</p>
          </div>
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>

    <div class="home-mid">
      
    </div>

  <% var start = 0; %> 
  <% var end = 10; %>
  <!-- <% next = function(){start= start+10; end= end +10}; %> -->
  <% console.log(start); %>
  

  <!-- ------------------------------------------- -->


<!-- 
  <% function back(){ %>
    <% console.log("in back"); %>
    <% if(start === 0){ buttonOff() } %>
    <% if(start !==0){ %>
      <% start = start - 10 ; %>
      <% end = end - 10; %>
    <% } %>
  <% } %>
  
  <% function next(){ %>
    <% console.log("in next"); %>
    <% if(end === (posts.length - posts.length%10 )){buttonOff()} %>
    <% if(start !==0){  %>
      < %start = start - 10 ; %>
      < %end = end - 10;  %>
    <% }  %>
  <% } %>
  
  <% function buttonOff() {document.getElementById("myBtn").disabled = true;} %>
   -->
  <!-- ------------------------------------------- -->
  
  <%  posts.slice(start,end).forEach(function(post , index){ %>
  

    <!-- <div class="post-item">
      <div class="post-item-head">
        <h1><%=post.title%></h1>
      </div>
      <div class="post-item-content">
        <p>
          <%=post.content.substring(0, 100) + " ..."%>
          <a href="/posts/<%=post._id%>">Read More</a>
        </p>
      </div>
    </div> -->

    <div class="card mb-3" id="post-item">
      <div class="row no-gutters">
        <div class="col-md-4">
          <img src="<%= post.img %>" alt="..." height="200px" width="345px">
        </div>
        <div class="col-md-8">
          <div class="card-body">
            <h5 class="card-title"><%=post.title%></h5>
            <p class="card-text">
              <%=post.content.substring(0, 100) + " ..."%>
              <a href="/posts/<%=post._id%>">Read More</a>
            </p>
            <p class="card-text">
              <small class="text-muted">
                Last updated 3 mins ago
              </small>
            </p>
          </div>
        </div>
      </div>
    </div>

    <% }) %>


    <div class="flex-container">
      <% console.log(start+"in"); %>
      <% next = function(){start= start+10; end= end +10}; %>
      <% var start = 0; %>
      <script type="text/javascript">
        console.log("js loaded");
        function next(){
          var getstart = <%= start; %>
          var getend = <%= end; %>
          getstart =  getstart + 10; 
          getend = getend +10;
          <%= start %> = getstart
          console.log(getstart);
          console.log(getend);
        }
      </script>
        <button id="nextBtn" class="btn active"  role="button"  >
          Back
        </button>
      
      <button href="#" class="btn active" role="button" onclick=" next()" >
        Next
      </button> 
    </div>
  <%- include("partials/footer"); -%>
